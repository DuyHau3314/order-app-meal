(this["webpackJsonporder-app"]=this["webpackJsonporder-app"]||[]).push([[0],[,,,function(e,t,n){e.exports={modal:"Modal_modal__30MRu",content:"Modal_content__1YIZV",order:"Modal_order__2IJ6C",amount:"Modal_amount__1wLiA",button:"Modal_button__2wpnv",total:"Modal_total__3QNkz"}},function(e,t,n){e.exports={header:"Header_header__1VCKf",cart:"Header_cart__3mtIy",bump:"Header_bump__3dEJM",badge:"Header_badge__3AZ1x",image:"Header_image__1zcEI"}},,,,,function(e,t,n){e.exports={"single-meal":"SingleMeal_single-meal__2XSjG",left:"SingleMeal_left__24pz1",price:"SingleMeal_price__35Jxw"}},,,function(e,t,n){e.exports={"meal-description":"MealDescription_meal-description__c4nW-"}},function(e,t,n){e.exports={input:"Input_input__2swPp"}},function(e,t,n){e.exports={form:"SingleMealForm_form__LYTOK"}},function(e,t,n){e.exports={"menu-meals":"MenuMeals_menu-meals__CyuQm",showUp:"MenuMeals_showUp__5jU1k"}},function(e,t,n){e.exports={meals:"Meals_meals__6d0Yj"}},function(e,t,n){e.exports={backdrop:"Backdrop_backdrop__2q6i7"}},,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(6),r=n.n(a),s=(n(22),n(5)),o=n(4),l=n.n(o),d=n.p+"static/media/meals.2971f633.jpg",u=i.a.createContext({items:[],totalAmount:0,addItem:function(e){},removeItem:function(e){}}),j=n(0),m=function(){return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:50,height:50,viewBox:"0 0 172 172",style:{fill:"#000000"},children:Object(j.jsxs)("g",{fill:"none",fillRule:"nonzero",stroke:"none",strokeWidth:1,strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,strokeDasharray:"true",strokeDashoffset:0,fontFamily:"none",fontWeight:"none",fontSize:"none",textAnchor:"none",style:{mixBlendMode:"normal"},children:[Object(j.jsx)("path",{d:"M0,172v-172h172v172z",fill:"none"}),Object(j.jsx)("g",{fill:"#ffffff",children:Object(j.jsx)("path",{d:"M6.235,6.88c-0.1075,0.02688 -0.215,0.06719 -0.3225,0.1075c-3.34594,0.47031 -5.9125,3.30563 -5.9125,6.7725c0,3.80281 3.07719,6.88 6.88,6.88c3.80281,0 6.88,-3.07719 6.88,-6.88h16.0175c4.28656,0 6.51719,0.88688 8.17,2.365c1.62594,1.46469 2.94281,3.93719 4.085,7.74l27.52,111.0475c1.03469,3.93719 2.06938,7.99531 4.945,11.2875c1.19594,1.37063 2.70094,2.48594 4.515,3.3325c-2.01562,2.39188 -3.3325,5.36156 -3.3325,8.7075c0,7.56531 6.19469,13.76 13.76,13.76c7.56531,0 13.76,-6.19469 13.76,-13.76c0,-2.52625 -0.73906,-4.8375 -1.935,-6.88h21.07c-1.19594,2.0425 -1.935,4.35375 -1.935,6.88c0,7.56531 6.19469,13.76 13.76,13.76c7.56531,0 13.76,-6.19469 13.76,-13.76c0,-3.53406 -1.43781,-6.69187 -3.655,-9.1375c0.38969,-1.04812 0.22844,-2.23062 -0.40312,-3.14437c-0.645,-0.92719 -1.69313,-1.47813 -2.82188,-1.47813h-52.5675c-5.30781,0 -7.47125,-1.12875 -8.9225,-2.795c-1.43781,-1.65281 -2.31125,-4.54187 -3.3325,-8.385v-0.1075l-2.365,-9.3525h63.1025c1.43781,0 2.74125,-0.90031 3.225,-2.2575l24.725,-65.36c0.40313,-1.04812 0.25531,-2.23062 -0.38969,-3.15781c-0.645,-0.92719 -1.70656,-1.47812 -2.83531,-1.46469h-105.6725l-7.31,-29.3475c0,-0.06719 0,-0.14781 0,-0.215c-1.31687,-4.43437 -3.02344,-8.2775 -6.1275,-11.0725c-3.10406,-2.795 -7.47125,-4.085 -12.7925,-4.085h-22.8975c-0.1075,0 -0.215,0 -0.3225,0c-0.1075,0 -0.215,0 -0.3225,0zM57.7275,58.48h99.0075l-22.145,58.48h-62.35zM89.44,151.36c3.84313,0 6.88,3.03688 6.88,6.88c0,3.84313 -3.03687,6.88 -6.88,6.88c-3.84312,0 -6.88,-3.03687 -6.88,-6.88c0,-3.84312 3.03688,-6.88 6.88,-6.88zM134.16,151.36c3.84313,0 6.88,3.03688 6.88,6.88c0,3.84313 -3.03687,6.88 -6.88,6.88c-3.84312,0 -6.88,-3.03687 -6.88,-6.88c0,-3.84312 3.03688,-6.88 6.88,-6.88z"})})]})})},b=function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),i=n[0],a=n[1],r=Object(c.useContext)(u).items.reduce((function(e,t){return e+t.amount}),0);return Object(c.useEffect)((function(){console.log("useEffect");var e=setTimeout((function(){a(!0)}),100);return function(){console.log("clean useEffect"),clearTimeout(e),a(!1)}}),[r]),Object(j.jsxs)("div",{onClick:e.onOpen,className:"".concat(l.a.cart," ").concat(i?l.a.bump:""),children:[Object(j.jsx)("span",{children:Object(j.jsx)(m,{})}),Object(j.jsx)("span",{children:Object(j.jsx)("h2",{children:"Your Cart"})}),Object(j.jsx)("span",{className:l.a.badge,children:r})]})},O=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:l.a.header,children:[Object(j.jsx)("div",{className:"logo",children:Object(j.jsx)("h2",{children:"ReactMeals"})}),Object(j.jsx)(b,{onOpen:e.onOpen})]}),Object(j.jsx)("div",{className:l.a.image,children:Object(j.jsx)("img",{src:d,alt:"Meal kec"})})]})},h=n(12),x=n.n(h),f=function(){return Object(j.jsxs)("div",{className:x.a["meal-description"],children:[Object(j.jsx)("h2",{children:"Delicious Food, Delivered To You"}),Object(j.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Hic, autem tempore amet quidem quia alias doloribus? Ipsum et aliquam similique "}),Object(j.jsx)("p",{children:"error ratione doloribus repellat, itaque beatae tenetur possimus quas eaque."})]})},p=n(2),_=n(13),v=n.n(_),g=i.a.forwardRef((function(e,t){return Object(j.jsxs)("div",{className:v.a.input,children:[Object(j.jsx)("label",{htmlFor:e.id,children:e.label}),Object(j.jsx)("input",Object(p.a)({ref:t},e.input))]})})),M=n(14),N=n.n(M),k=function(e){var t=Object(c.useContext)(u),n=Object(c.useRef)();return Object(j.jsxs)("form",{className:N.a.form,onSubmit:function(c){c.preventDefault(),console.log(n.current.value),t.addItem(Object(p.a)(Object(p.a)({},e.meal),{},{amount:+n.current.value}))},children:[Object(j.jsx)(g,{label:"Amount",ref:n,input:{id:"amount",type:"number",min:1,max:5,defaultValue:1,step:1}}),Object(j.jsx)("button",{children:"+ Add"})]})},y=n(9),A=n.n(y),C=function(e){var t=e.meal;return Object(j.jsxs)("div",{className:A.a["single-meal"],children:[Object(j.jsxs)("div",{className:A.a.left,children:[Object(j.jsx)("h3",{children:t.name}),Object(j.jsx)("h4",{children:t.description}),Object(j.jsx)("h3",{className:A.a.price,children:"$".concat(t.price.toFixed(2))})]}),Object(j.jsx)("div",{children:Object(j.jsx)(k,{meal:t})})]})},I=n(15),w=n.n(I),S=[{id:"m1",name:"Sushi",description:"Finest fish and veggies",price:22.99},{id:"m2",name:"Schnitzel",description:"A german specialty!",price:16.5},{id:"m3",name:"Barbecue Burger",description:"American, raw, meaty",price:12.99},{id:"m4",name:"Green Bowl",description:"Healthy...and green...",price:18.99}],F=function(){var e=S.map((function(e){return Object(j.jsxs)("li",{children:[" ",Object(j.jsx)(C,{meal:e})]},e.id)}));return Object(j.jsx)("div",{className:w.a["menu-meals"],children:Object(j.jsxs)("ul",{children:[" ",e]})})},z=n(16),D=n.n(z),E=function(){return Object(j.jsxs)("div",{className:D.a.meals,children:[Object(j.jsx)(f,{}),Object(j.jsx)(F,{})]})},B=n(3),q=n.n(B),R=function(e){var t=Object(c.useContext)(u),n=t.items.map((function(e){return Object(j.jsxs)("div",{className:q.a.order,children:[Object(j.jsxs)("div",{className:q.a["order-meal"],children:[Object(j.jsx)("h3",{children:e.name}),Object(j.jsx)("h4",{children:e.price.toFixed(2)})]}),Object(j.jsx)("div",{className:q.a.amount,children:Object(j.jsxs)("p",{children:["x$",e.amount]})}),Object(j.jsxs)("div",{className:q.a.button,children:[Object(j.jsx)("button",{onClick:function(){return n=e.id,void t.removeItem(n);var n},children:"-"}),Object(j.jsx)("button",{onClick:function(){return function(e){var n=Object(p.a)(Object(p.a)({},e),{},{amount:1});t.addItem(n)}(e)},children:"+"})]})]},e.id)}));return Object(j.jsxs)("div",{className:q.a.modal,children:[Object(j.jsx)("h2",{style:{textAlign:"center",marginTop:"1rem"},children:"Order Summary"}),Object(j.jsx)("div",{className:q.a.content,children:n}),Object(j.jsxs)("div",{className:q.a.total,children:[Object(j.jsx)("span",{children:Object(j.jsx)("h2",{children:"Total Money:"})}),Object(j.jsx)("span",{children:Object(j.jsx)("h3",{children:Math.abs(t.totalAmount.toFixed(2))})})]})]})},T=n(17),H=n.n(T),L=function(e){return Object(j.jsx)("div",{onClick:e.onClose,className:H.a.backdrop})},P=document.getElementById("modal"),J=function(e){return Object(j.jsxs)("div",{children:[r.a.createPortal(Object(j.jsx)(L,{onClose:e.onClose}),P),r.a.createPortal(Object(j.jsx)(R,{}),P)]})},V=n(10),Y={items:[],totalAmount:0},U=function(e,t){if("ADD"===t.type){var n,c=t.item,i=e.items.findIndex((function(e){return e.id===c.id})),a=e.items[i];if(a){var r=Object(p.a)(Object(p.a)({},a),{},{amount:a.amount+c.amount});(n=Object(V.a)(e.items))[i]=r}else n=[].concat(Object(V.a)(e.items),[t.item]);return{items:n,totalAmount:e.totalAmount+t.item.price*t.item.amount}}if("REMOVE"===t.type){var s,o=e.items.find((function(e){return e.id===t.id})),l=e.items.findIndex((function(e){return e.id===t.id})),d=e.totalAmount;if(o.amount>1){var u=Object(p.a)(Object(p.a)({},o),{},{amount:o.amount-1});(s=Object(V.a)(e.items))[l]=u,d=e.totalAmount-o.price}else s=e.items.filter((function(e){return e.id!==t.id})),d-=o.price;return{items:s,totalAmount:d}}return e},W=function(e){var t=Object(c.useReducer)(U,Y),n=Object(s.a)(t,2),i=n[0],a=n[1],r={items:i.items,totalAmount:i.totalAmount,addItem:function(e){a({type:"ADD",item:e})},removeItem:function(e){a({type:"REMOVE",id:e})}};return Object(j.jsx)(u.Provider,{value:r,children:e.children})},G=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],a=function(){i(!0)};return Object(j.jsxs)(W,{children:[Object(j.jsx)(O,{onOpen:a}),Object(j.jsx)(E,{}),n&&Object(j.jsx)(J,{onOpen:a,onClose:function(){i(!1)}})]})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))};r.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(G,{})}),document.getElementById("root")),K()}],[[24,1,2]]]);
//# sourceMappingURL=main.a3cfcdf1.chunk.js.map